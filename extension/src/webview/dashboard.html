<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bug Dashboard â€” Visual Debugger</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Chart.js v4 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
</head>

<body>
    <div id="dashboard-panel">
        <!-- Header -->
        <div class="card-header">
            <h1>Bug Dashboard</h1>
        </div>

        <div class="dashboard-grid">
            <!-- Summary Stats -->
            <div class="card slide-in" id="stats-card">
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="total-bugs">0</div>
                        <div class="stat-label">Total Bugs</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" style="color: var(--vd-syntax);" id="syntax-count">0</div>
                        <div class="stat-label">Syntax</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" style="color: var(--vd-logic);" id="logic-count">0</div>
                        <div class="stat-label">Logic</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" style="color: var(--vd-runtime);" id="runtime-count">0</div>
                        <div class="stat-label">Runtime</div>
                    </div>
                </div>
            </div>

            <!-- Category Breakdown (Bar Chart) -->
            <div class="card slide-in">
                <h3>Bug Categories</h3>
                <div class="chart-container">
                    <canvas id="category-chart"></canvas>
                </div>
            </div>

            <!-- Trend Over Time (Line Chart) -->
            <div class="card slide-in">
                <div class="card-header" style="margin-bottom: 4px; border-bottom: none; padding-bottom: 0;">
                    <h3 style="margin:0;">Bug Trend <span id="trend-label" class="text-muted text-sm"
                            style="font-weight:normal">(Last 7 Days)</span></h3>
                    <div class="toggle-group">
                        <button class="btn-toggle" data-range="1h">1H</button>
                        <button class="btn-toggle" data-range="24h">1D</button>
                        <button class="btn-toggle active" data-range="7d">7D</button>
                        <button class="btn-toggle" data-range="30d">30D</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="trend-chart"></canvas>
                </div>
            </div>



            <!-- Learning Progress Ring -->
            <div class="card slide-in vd-progress-ring-card" id="progress-ring-card">
                <h3>Learning Progress</h3>
                <div class="vd-progress-ring">
                    <svg width="100" height="100" viewBox="0 0 100 100">
                        <defs>
                            <linearGradient id="vd-ring-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#60A5FA" />
                                <stop offset="100%" stop-color="#22D3EE" />
                            </linearGradient>
                        </defs>
                        <circle class="vd-progress-ring-bg" cx="50" cy="50" r="40" />
                        <circle class="vd-progress-ring-fill" id="progress-ring-circle" cx="50" cy="50" r="40"
                            stroke-dasharray="251.3" stroke-dashoffset="251.3" />
                    </svg>
                    <span class="vd-progress-ring-text" id="progress-ring-pct">0%</span>
                </div>
                <span class="vd-progress-ring-label" id="progress-ring-label">0 / 0 quizzes</span>
            </div>

            <!-- Bug Activity Heatmap (GitHub-style) -->
            <div class="card slide-in vd-heatmap-card" id="heatmap-card">
                <div class="vd-heatmap-header">
                    <h3 id="heatmap-title">Bug Activity</h3>
                </div>
                <div class="vd-heatmap-scroll">
                    <div class="vd-heatmap-months" id="heatmap-months"></div>
                    <div class="vd-heatmap-body">
                        <div class="vd-heatmap-days">
                            <span></span>
                            <span>Mon</span>
                            <span></span>
                            <span>Wed</span>
                            <span></span>
                            <span>Fri</span>
                            <span></span>
                        </div>
                        <div class="vd-heatmap-grid" id="heatmap-grid"></div>
                    </div>
                </div>
                <div class="vd-heatmap-footer">
                    <span class="vd-heatmap-summary" id="heatmap-summary"></span>
                    <div class="vd-heatmap-legend">
                        <span>Less</span>
                        <div class="vd-heatmap-legend-cell" data-level="0"></div>
                        <div class="vd-heatmap-legend-cell" data-level="1"></div>
                        <div class="vd-heatmap-legend-cell" data-level="2"></div>
                        <div class="vd-heatmap-legend-cell" data-level="3"></div>
                        <div class="vd-heatmap-legend-cell" data-level="4"></div>
                        <span>More</span>
                    </div>
                </div>
                <!-- Tooltip (positioned absolutely) -->
                <div class="vd-heatmap-tooltip" id="heatmap-tooltip" role="tooltip" aria-hidden="true"></div>
            </div>

            <!-- Achievement Badges -->
            <div class="card slide-in" id="achievements-card">
                <h3>Achievements</h3>
                <div class="vd-achievements" id="achievements-grid"></div>
            </div>

            <!-- Recent Bug History -->
            <div class="card slide-in">
                <h3>Recent Bugs</h3>
                <div id="bug-history" style="max-height: 250px; overflow-y: auto;">
                    <!-- Rendered by JS -->
                </div>
            </div>
        </div>
    </div>


    <script src="dashboardScript.js"></script>
</body>

</html>